#Not included in live site. Remove this line to re-include
---
layout: page
title: Text Processing
description: Aggregating the qualitative
header-img: img/orlov_bg.png
filename: pg03
lang: en
---

Text Processing
===============
In addition to determining relationships between the historical towns described in the text and their modern descendants, we also had the goal of extracting information about the historical towns and cities. This information fell into two main categories: when market fairs were held, and what goods were traded at them. Similar approaches were used for both, but each had its own quirks. The basic approach taken was to use a general, common pattern to establish a list of potential values for the information, and then use that list in a second search to find the same information in less common constructions.  
The advantage of extracting this information with a degree of automation is not just in the time saved for researchers, but also in the re-usability of the resources we’ve generated as part of this process. Having a list of holidays and the dates on which they occur is useful beyond the scope of this single project, for instance. Subsequent projects can use parts of this project to enhance their own workflows.
Trade Goods
-----------
The descriptions of yearly market fairs often included descriptions of goods that were exchanged at the fairs. The descriptions ranged from the general (e.g. мелочными товарами or petty goods), to the specific, such as bread, wine, or fabric. To extract these goods, we found words in the instrumental case in sentences that contained verbs related to trade. This is a common, but not universal, construction of the description of trade goods. We cleaned the resulting list of words up, categorized them into descriptions of general kinds of goods and descriptions of specific goods, and used that list as the basis of a second search for all instances of those goods, regardless of case. We were able to do this general search by using the Russian [Snowball Stemmer](http://snowball.tartarus.org/) included in [Python's NLTK package](http://www.nltk.org/), which removes word endings to arrive at a root form that joins the same word in a different case shares. The results of this second, cleaner search are what was included in the dataset.

Market Fair Dates
-----------------
Market fair dates were a bit more difficult to extract. Many of the dates were described as calendar dates, and there were only a few different forms used, so regular expressions were sufficient to extract these dates. However, other fair dates were described in terms of local or religious holidays. To attach calendar dates to these, we first needed to get a collection of names of holidays. Fortunately, in the text many fair dates are given in lists that follow a simple form (In the town there are 5 fairs a year, the first on... the second on... etc). This pattern was used to generate a list of holidays described in the text. From these, we found dates to assign to instances of these holidays, and also determined regular expressions to match various names of the same holiday. Some of the dates had to be determined in reference to Easter, which moves around the calendar year, as it is based on a lunar calendar. For these, we calculated the dates that they would have occurred in 1788, the year the text was published. This was done using a method for calculating the date of easter developed by [The Astronomical Society of South Australia](https://www.assa.org.au/edm). The regular expressions created to match the holidays were then used in a second, targeted search in the text to find instances of those holidays outside of the most common pattern.